<!DOCTYPE html>
<html lang="en">
<head>
	<title>css filters with michael jackson</title>
	<style>
		body { background-color: #aaa; text-align: center;}
		video { margin-top: 100px; box-shadow: 0px 0px 400px 20px #333; }
		#controls {
			margin: 0 auto;
			padding: 30px;
			width: 450px;
		}
		.custom { -webkit-filter: custom(
                     url(distort.vs) url(tint.fs), 
                     distortAmount 0.5, lightVector 1.0 1.0 0.0, 
                     disp texture(disp.png)
                  );
		}
	</style>
</head>
<body>
	<video class="custom" src="michael_jackson_-_earth_song_640x456.mp4" autoplay>
	<p>Your browser can't play this video.</p>
	</video>
	<div id="controls">
		<span>Grayscale: </span>
		<input type="range" min="0" max="1" value="0" step="0.01" onchange="setValue('grayscale', this.value)"/>
		<span>Blur: </span>
		<input type="range" min="0" max="10" value="0" step="0.1" onchange="setValue('blur', this.value + 'px')"/>
		<br/>
		<span>Contrast: </span>
		<input type="range" min="0" max="10" value="1" step="0.1" onchange="setValue('contrast', this.value)"/>
		<span>Brightness: </span>
		<input type="range" min="0" max="1" value="0" step="0.01" onchange="setValue('brightness', this.value)"/>
		<br/>
		<span>Sepia: </span>
		<input type="range" min="0" max="1" value="0" step="0.01" onchange="setValue('sepia', this.value)"/>
		<span>Hue rotate: </span>
		<input type="range" min="0" max="360" value="0" step="1" onchange="setValue('hue-rotate', this.value + 'deg')"/>
		<br/>
		<span>Invert: </span>
		<input type="range" min="0" max="1" value="0" step="0.01" onchange="setValue('invert', this.value)"/>
		<span>Saturate: </span>
		<input type="range" min="0" max="10" value="1" step="0.1" onchange="setValue('saturate', this.value)"/>
		<br/>
		<span>Opacity: </span>
		<input type="range" min="0" max="1" value="1" step="0.01" onchange="setValue('opacity', this.value)"/>
	</div>
	<script>
		var filterValue = {};
		function setValue(filter, value) {
			filterValue[filter] = value;
			var style = "";
			for(f in filterValue) {
				style += f + '(' + filterValue[f] + ') ';
			}
			document.querySelector('video').style.webkitFilter = style;
		}

	</script>

</body>
</html>